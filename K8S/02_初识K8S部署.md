# K8S部署

## 容器化部署
### 特点
1. 容器的生命周期极短
2. 容器释放网络释放；实现持久化，服务名映射主机
3. 容器释放磁盘释放；实现持久化，挂载卷

## K8S部署
### 特点
1. 自我修复 --问题容器自动干掉，自动部署
2. 弹性伸缩 --容器数量自动增加，自动缩减
3. 自动部署和回滚 --容器更新，自动更新容器，不停业务，用户无感知
4. 服务发现和负载均衡 --k8s自带服务发现和负载均衡（之前需使用的nginx）
5. 机密和配置管理 --应用配置文件统一管理（机密，敏感数据保存）
6. 存储编排 --所有机器的存储资源统一为一个一个的抽象的虚拟磁盘
7. 批处理


## 企业级容器调度平台
- Apache Mesos
    - 特点：
        1. 是一个分布式调度系统内核；作为资源管理器，从DC/OS（数据中心操作系统）的角度提供资源视图
        2. 主从结构，主节点分配任务，从节点执行
        3. 通过Zookeeper给主节点提供服务注册，服务发现功能；通过Framework Marathon提供容器调度
    - 优势：
        1. 大规模节点管理，5w+节点

- Docker Swarm
    - 特点：
        1. 基于Docker开发的调度框架
    - 优势：
        1. 安装Docker，Docker Swarm自带，基于docker快速上手
        2. 入门门槛低，学习成本低，使用便捷，适用于中小型系统

- **Google Kubernetes**
    - 基本概念：
        1. 它使用Label和pod的概念来将容器划分为逻辑单元。
        2. Pods是同地协作（co-located）容器的集合，这些容器被共同部署和调度，形成了一个服务。
    - 优势：
        1. 最流行的容器编排解决方案框架，google庞大的生态圈
        2. 通过Pods这次抽象的概念，解决Container之间的依赖于通信的问题
        3. Pods，Services,Deployments 是独立部署的部分，可以通过selector提供更多的灵活性，内置服务注册和负载均衡
        4. 适用度更广，相较与Mesos节点规模较小